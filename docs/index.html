async function searchUser() {
    const username = document.getElementById('usernameInput').value.trim();
    
    if (!username) {
        alert('Please enter username');
        return;
    }
    
    showLoading();
    
    try {
        // Back4App Cloud Function se REAL data lao
        const result = await Parse.Cloud.run("getRobloxUser", { username: username });
        
        if (result.success) {
            // Database mein save karo
            const saved = await saveAvatar(result.user.id, result.user.name, result.avatar);
            
            // Real Roblox data dikhao
            const results = document.getElementById('results');
            results.innerHTML = `
                <div class="avatar-card">
                    <h3>âœ… ${result.user.name} - Real Roblox Data</h3>
                    <p><strong>User ID:</strong> ${result.user.id}</p>
                    <p><strong>Display Name:</strong> ${result.user.displayName || 'N/A'}</p>
                    <p><strong>Equipped Items:</strong> ${result.avatar.assets ? result.avatar.assets.length : 0}</p>
                    <p style="color: green;">âœ… Real data from Roblox APIs</p>
                    
                    <div style="margin-top: 20px;">
                        <button class="btn" onclick="copyOutfit('${result.user.id}')">ðŸ“‹ Copy Outfit</button>
                        <button class="btn btn-success" onclick="viewLibrary()">ðŸ“š View Saved Avatars</button>
                    </div>
                </div>
            `;
            results.style.display = 'block';
        } else {
            showError('User not found on Roblox: ' + result.error);
        }
    } catch (error) {
        console.error('Error:', error);
        showError('Error fetching user data');
    } finally {
        hideLoading();
    }
}
